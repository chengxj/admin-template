<div class="page-title" ed-page-title>
    <h4>
        <span>{{'title.sys.company' | translate}}</span>
    </h4>
    <nav>
        <span class="fa fa-home"></span>
        <a href="javascript:;">{{'title.common.home' | translate}}</a>
        <span class="fa fa-angle-right"></span>
        <a href="#/sys/job/list">{{'title.sys.company' | translate}}</a>
        <span class="fa fa-angle-right"></span>
        <a href="javascript:;">{{'title.sys.company.add' | translate}}</a>
    </nav>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <header class="panel-heading">{{'header.sys.company.info' | translate}}</header>
            <div class="panel-body">
                <form role="form" class="form-horizontal" name="form" novalidate>
                    <div class="form-body">
                        <div class="form-group"
                             ng-class="{'has-error': form.companyName.$dirty && form.companyName.$invalid}">
                            <label for="companyName" class="col-md-3 control-label">{{'label.sys.company.name' | translate}}<span
                                    class="symbol required"></span>
                            </label>

                            <div class="col-md-5">
                                <input type="text" class="form-control" id="companyName" name="companyName"
                                       ng-model="company.companyName" ed-focus required ng-maxlength=64>
                                <span class='help-block'
                                      ng-show="form.companyName.$error.required && form.companyName.$focused">{{'help.common.required' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.companyName.$error.maxlength && form.companyName.$focused">{{'help.common.maxlength64' | translate}}</span>
                            </div>
                        </div>
                        <div class="form-group"
                             ng-class="{'has-error': form.companyCode.$dirty && form.companyCode.$invalid}">
                            <label for="companyCode" class="col-md-3 control-label">{{'label.sys.company.companyCode' | translate}}<span
                                    class="symbol required"></span>
                            </label>

                            <div class="col-md-5">
                                <input type="text"
                                       class="form-control"
                                       name="companyCode"
                                       id="companyCode"
                                       ng-model="company.companyCode"
                                       ed-focus
                                       required
                                       ng-pattern="/^[0-9]+$/"
                                       ng-maxlength="32"
                                       ed-ensure-unique="sys/company/check/code">
                                <span class='help-block'
                                      ng-show="form.companyCode.$error.required && form.companyCode.$focused">{{'help.common.required' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.companyCode.$error.pattern && form.companyCode.$focused">{{'help.sys.company.companyCode.pattern' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.companyCode.$error.unique && form.companyCode.$focused">{{'help.sys.company.companyCode.unique' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.companyCode.$error.maxlength && form.companyCode.$focused">{{'help.common.maxlength64' | translate}}</span>
                            </div>
                        </div>
                        <h4 class="block-heading">{{'header.sys.company.admin.info' | translate}}</h4>
                        <div class="form-group"
                             ng-class="{'has-error': form.username.$dirty && form.username.$invalid}">
                            <label class="col-md-3 control-label" for="username">{{'label.sys.user.username' | translate}}<span
                                    class="symbol required"></span></label>

                            <div class="col-md-5">
                                <input type="text" id="username" name="username" class="form-control"
                                       ng-model="company.username" ed-focus required ng-minlength=3 ng-maxlength=16
                                       ng-pattern="/^[a-zA-Z][0-9a-zA-Z_]*$/" ed-ensure-unique="sys/user/check/username">
                                <span class='help-block'
                                      ng-show="form.username.$error.required && form.username.$focused">{{'help.common.required' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.username.$error.pattern && form.username.$focused">{{'help.sys.user.username.pattern' | translate}}</span>
                                <span class='help-block'
                                      ng-show="(form.username.$error.minlength || form.username.$error.maxlength) && form.username.$focused">{{'help.sys.user.username.length' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.username.$error.unique && form.username.$focused">{{'help.sys.user.username.unique' | translate}}</span>
                            </div>
                        </div>
                        <div class="form-group"
                             ng-class="{'has-error': form.password.$dirty && form.password.$invalid}">
                            <label class="col-md-3 control-label" for="password">{{'label.sys.user.password' | translate}}<span
                                    class="symbol required"></span></label>

                            <div class="col-md-5">
                                <input type="password" id="password" name="password" class="form-control"
                                       ng-model="company.password" ed-focus required ng-minlength=6 ng-maxlength=16>
                                <span class='help-block'
                                      ng-show="form.password.$error.required && form.password.$focused">{{'help.common.required' | translate}}</span>
                                <span class='help-block'
                                      ng-show="(form.password.$error.minlength || form.password.$error.maxlength) && form.password.$focused">{{'help.sys.user.password.length' | translate}}</span>
                            </div>
                        </div>
                        <div class="form-group"
                             ng-class="{'has-error': form.fullName.$dirty && form.fullName.$invalid}">
                            <label class="col-md-3 control-label" for="fullName">{{'label.sys.user.fullname' | translate}}<span
                                    class="symbol required"></span></label>

                            <div class="col-md-5">
                                <input type="text" id="fullName" name="fullName" class="form-control"
                                       ng-model="company.fullName" ed-focus required ng-maxlength="32">
                                <span class='help-block'
                                      ng-show="form.fullName.$error.required && form.fullName.$focused">{{'help.common.required' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.fullName.$error.maxlength && form.fullName.$focused">{{'help.common.maxlength32' | translate}}</span>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error': form.email.$dirty && form.email.$invalid}">
                            <label class="col-md-3 control-label" for="email">{{'label.sys.user.email' | translate}}</label>

                            <div class="col-md-5">
                                <input type="email" id="email" name="email" class="form-control" ng-model="company.email"
                                       ed-focus ng-maxlength="64">
                                <span class='help-block'
                                      ng-show="form.email.$error.email && form.email.$focused">{{'help.common.email' | translate}}</span>
                                <span class='help-block'
                                      ng-show="form.email.$error.maxlength && form.email.$focused">{{'help.common.maxlength64' | translate}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <div class="col-md-offset-3 col-md-9">
                            <button class="btn btn-blue"
                                    type="button"
                                    ng-disabled="form.$invalid || isUnchanged() || clickToken"
                                    ng-click="save()">
                                <i class="fa fa-check"></i>
                                {{'label.common.op.save' | translate}}
                            </button>
                            <label class="blank5 pull-right"></label>
                            <a class="btn btn-default" type="button"
                               href="#/sys/job/list">
                                <i class="fa fa-undo"></i>
                                {{'label.common.op.cancel' | translate}}
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
